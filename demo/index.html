<html>
  <head>
    <title>wtf_wikipedia</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript" src="./builds/wtf_wikipedia.js"></script>
    <style>
      h1{
        color:#d76d6b;
        margin:30px;
      }
      h2{color:steelblue;}
      .c{color:#858585; font-size:15px;}
      a{
        color:#d76d6b;
        text-decoration:none;
      }
      .r{color:steelblue; position:relative; left:70px;}
      #wikiscript{
        border:1px solid steelblue;
        border-radius:5px;
        margin:30px;
      }
    </style>
    <script>
      $(window).load(function(){

        var make_list=function(arr){
          console.log(arr)
          arr = arr || []
          return arr.reduce(function(str,a){
            return str+='<li>'+a+'</li>'
          },'')
        }

        var wikiscript=$("#wikiscript").text()
        var text= wtf_wikipedia.plaintext(wikiscript)
        $("#text").html(text);
        var obj= wtf_wikipedia.parse(wikiscript);
        console.log(obj)
        $("#categories").html('<ul>'+make_list(obj.categories)+'</ul>');
        $("#images").html('<ul>'+make_list(obj.images)+'</ul>');
        // $("#translations").html('<ul>'+make_list(obj.translations)+'</ul>');
        $("#infobox").html(JSON.stringify(obj.infobox,null,2));
      })
    </script>
  </head>
  <body>
    <div>
      <a href="https://github.com/spencermountain/wtf_wikipedia">wtf_wikipedia</a>
      <span style="padding-left:15px; color:grey;"> - parsing demo</span>
    </div>
    <pre id="wikiscript" style="max-height:200px; overflow:auto;">
      {{Infobox venue
      | name = Royal Cinema
      | nickname            =
      | former names        = The Pylon, The Golden Princess
      | logo_image          =
      | logo_caption        =
      | image               = Royal_Cinema.JPG
      | image_size          = 250px
      | caption             = The Royal Cinema in 2009
      | iso_region          =
      | address             = 608 [[College Street (Toronto)|College Street]]
      | location            = [[Toronto]], [[Ontario]]
      | coordinates         =
      | type                =
      | genre               =
      | broke_ground        =
      | built               =
      | opened              = 1939
      | renovated           =
      | expanded            =
      | cost                =
      | architect           = Benjamin Swartz
      | website             = {{URL|theroyal.to}}
      | publictransit       =
      | capacity            = 390<ref name="theroyal"/>
      }}
      The '''Royal Cinema'''  is an [[Art Moderne]] event venue and [[movie theater|cinema]] in [[Toronto]], [[Canada]]. It was built in 1939 and owned by Miss Ray Levinsky.<ref name="theroyal">{{cite web|title=About - theroyal.to|url=http://www.theroyal.to/about/}}</ref>

      When it was built in 1939, it was called '''The Pylon''', with an accompanying large sign at the front of the theatre. It included a roller-skating rink at the rear of the theatre, and a dance hall on the second floor.<ref name="taylor">{{cite web|title=Toronto’s old movie theatres—the Royal Theatre (the Pylon)|url=http://tayloronhistory.com/2013/12/30/torontos-old-movie-theatresthe-royal-theatre-the-pylon/}}</ref>

      In the 1950's the theatre was purchased by Rocco Mastrangelo.<ref name="taylor"/> In the 1990s, the theatre was renamed 'the Golden Princess'.<ref name="taylor"/>

      Since early 2007, '''Theatre D''' has owned and operated The Royal.<ref>{{cite web|title=Toronto repertory theatre reopens with HD projection|url=http://www.cbc.ca/news/arts/toronto-repertory-theatre-reopens-with-hd-projection-1.592674}}</ref>
      During the daytime it operates as a film and television post-production studio.<ref name="theroyal"/> It hosts film festivals including the European Union Film Festival and Japanese Movie Week.<ref>{{cite web|title=The Best Place to Watch a Film in Toronto|url=http://www.blogto.com/toronto/the_best_place_to_watch_a_film_in_toronto/}}</ref>

      The Royal was featured in the 2013 film [[The F Word (2013 film)|The F Word]].

      ==See Also==
      * [[List of cinemas in Toronto]]

      ==References==
      {{reflist}}

      {{Theatres in Toronto}}

      [[Category:National Historic Sites in Ontario]]
      [[Category:Cinemas and movie theatres in Toronto]]
      [[Category:Streamline Moderne architecture in Canada]]
      [[Category:Theatres completed in 1939]]
    </pre>

    <ul>
      <h2>PlainText:</h2>
      <ul>
        <div id="text"></div>
      </ul>

      <h2>Categories:</h2>
      <ul>
        <div id="categories"></div>
      </ul>

      <h2>Images:</h2>
      <ul>
        <div id="images"></div>
      </ul>

      <h2>Translations:</h2>
      <ul>
        <div id="translations"></div>
      </ul>

      <h2>Infobox:</h2>
      <ul>
        <pre id="infobox"></pre>
      </ul>
    </ul>

  </body>
<html>
